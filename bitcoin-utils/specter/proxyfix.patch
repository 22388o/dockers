diff --git a/src/cryptoadvance/specter/controller.py b/src/cryptoadvance/specter/controller.py
index ffb0d78..7ec5d31 100644
--- a/src/cryptoadvance/specter/controller.py
+++ b/src/cryptoadvance/specter/controller.py
@@ -228,14 +228,14 @@ def index():
     notify_upgrade()
     app.specter.check()
     if len(app.specter.wallet_manager.wallets) > 0:
-        return redirect(
-            "/wallets/%s"
-            % app.specter.wallet_manager.wallets[
+        return redirect(url_for(
+            "wallet", wallet_alias=
+            app.specter.wallet_manager.wallets[
                 app.specter.wallet_manager.wallets_names[0]
             ].alias
-        )
+        ))
 
-    return redirect("/about")
+    return redirect("about")
 
 
 @app.route("/about")
@@ -301,7 +301,7 @@ def login():
     else:
         if app.config.get("LOGIN_DISABLED"):
             app.login("admin")
-            return redirect("/")
+            return redirect("")
         return render_template(
             "login.jinja", specter=app.specter, data={"next": request.args.get("next")}
         )
@@ -329,7 +329,7 @@ def register():
             app.specter, username
         ):
             flash("Username is already taken, please choose another one", "error")
-            return redirect("/register?otp={}".format(otp))
+            return redirect("register?otp={}".format(otp))
         if app.specter.burn_new_user_otp(otp):
             config = {
                 "explorers": {
@@ -346,14 +346,14 @@ def register():
                 "You have registered successfully, \
 please login with your new account to start using Specter"
             )
-            return redirect("/login")
+            return redirect("login")
         else:
             flash(
                 "Invalid registration link, \
 please request a new link from the node operator.",
                 "error",
             )
-            return redirect("/register?otp={}".format(otp))
+            return redirect("register?otp={}".format(otp))
     return render_template("register.jinja", specter=app.specter)
 
 
@@ -362,16 +362,16 @@ def logout():
     logout_user()
     flash("You were logged out", "info")
     app.specter.clear_user_session()
-    return redirect("/login")
+    return redirect("login")
 
 
 @app.route("/settings/", methods=["GET"])
 @login_required
 def settings():
     if current_user.is_admin:
-        return redirect("/settings/bitcoin_core")
+        return redirect(url_for("bitcoin_core_settings"))
     else:
-        return redirect("/settings/general")
+        return redirect(url_for("general_settings"))
 
 
 @app.route("/settings/hwi", methods=["GET", "POST"])
@@ -527,7 +527,7 @@ def bitcoin_core_settings():
     app.specter.check()
     if not current_user.is_admin:
         flash("Only an admin is allowed to access this page.", "error")
-        return redirect("/")
+        return redirect("")
     rpc = app.specter.config["rpc"]
     user = rpc["user"]
     password = rpc["password"]
@@ -879,7 +879,7 @@ def new_wallet(wallet_type):
                                 "Failed to perform rescan for wallet: %r" % e, "error"
                             )
                         wallet.getdata()
-                        return redirect("/wallets/%s/" % wallet.alias)
+                        return redirect(url_for("wallet", wallet_alias=wallet.alias))
                     else:
                         return render_template(
                             "wallet/new_wallet/import_wallet.jinja",
@@ -1015,7 +1015,7 @@ def new_wallet(wallet_type):
                         )
                         err = "%r" % e
                     wallet.getdata()
-            return redirect("/wallets/%s/" % wallet.alias)
+            return redirect(url_for("wallet", wallet_alias=wallet.alias))
 
     return render_template(
         "wallet/new_wallet/new_wallet.jinja",
@@ -1039,9 +1039,9 @@ def wallet(wallet_alias):
         app.logger.error("SpecterError while wallet: %s" % se)
         return render_template("base.jinja", error=se, specter=app.specter, rand=rand)
     if wallet.balance["untrusted_pending"] + wallet.balance["trusted"] == 0:
-        return redirect("/wallets/%s/receive/" % wallet_alias)
+        return redirect(url_for("wallet_receive", wallet_alias=wallet_alias))
     else:
-        return redirect("/wallets/%s/tx/" % wallet_alias)
+        return redirect(url_for("wallet_tx", wallet_alias=wallet_alias))
 
 
 @app.route("/wallets_overview/")
@@ -1125,7 +1125,7 @@ def singlesig_setup_wizard():
             wallet.rescanutxo(explorer)
             app.specter._info["utxorescan"] = 1
             app.specter.utxorescanwallet = wallet.alias
-        return redirect("/wallets/%s/" % wallet.alias)
+        return redirect(url_for("wallet", wallet_alias=wallet.alias))
     return render_template(
         "wizards/singlesig_setup_wizard.jinja", specter=app.specter, rand=rand
     )
@@ -1134,7 +1134,7 @@ def singlesig_setup_wizard():
 @app.route("/wallets/<wallet_alias>/tx/")
 @login_required
 def wallet_tx(wallet_alias):
-    return redirect("/wallets/%s/tx/history" % wallet_alias)
+    return redirect(url_for("wallet_tx_history", wallet_alias=wallet_alias))
 
 
 @app.route("/wallets/<wallet_alias>/tx/history/")
@@ -1614,7 +1614,7 @@ def new_device():
                 device = app.specter.device_manager.add_device(
                     name=device_name, device_type=device_type, keys=keys
                 )
-                return redirect("/devices/%s/" % device.alias)
+                return redirect(url_for("device", device_alias=device.alias))
         elif action == "newhotdevice":
             if not device_name:
                 err = "Device name must not be empty"
@@ -1637,7 +1637,7 @@ def new_device():
                     app.specter.wallet_manager,
                     app.specter.chain != "main",
                 )
-                return redirect("/devices/%s/" % device.alias)
+                return redirect(url_for("device", device_alias=device.alias))
         elif action == "generatemnemonic":
             strength = int(request.form["strength"])
             mnemonic = generate_mnemonic(strength=strength)
@@ -1680,7 +1680,7 @@ def device(device_alias):
                     bitcoin_datadir=app.specter.bitcoin_datadir,
                     chain=app.specter.chain,
                 )
-                return redirect("/")
+                return redirect("")
         elif action == "delete_key":
             key = request.form["key"]
             device.remove_key(Key.from_json({"original": key}))
diff --git a/src/cryptoadvance/specter/hwi_server.py b/src/cryptoadvance/specter/hwi_server.py
index 2e4e4ca..697b27b 100644
--- a/src/cryptoadvance/specter/hwi_server.py
+++ b/src/cryptoadvance/specter/hwi_server.py
@@ -14,13 +14,16 @@ hwi = HWIBridge()
 
 @hwi_server.route("/", methods=["GET"])
 def index():
-    return redirect("/hwi/settings")
+    return redirect("hwi/settings")
 
 
 @hwi_server.route("/api/", methods=["POST"])
 def api():
     """JSON-RPC for HWI Bridge"""
     # if cross-origin
+    print("request.environ=%s" % request.environ)
+    print("request.data=%s" % request.data)
+    print("request=%s" % request)
     if (
         "HTTP_HOST" in request.environ
         and "HTTP_ORIGIN" in request.environ
@@ -28,6 +31,7 @@ def api():
         != request.environ["HTTP_ORIGIN"].split("://")[1]
     ):
         whitelisted_domains = hwi_get_config(app.specter)["whitelisted_domains"].split()
+        print("whitelisted_domains=%s" % whitelisted_domains)
         for i, url in enumerate(whitelisted_domains):
             # might be https as well
             whitelisted_domains[i] = url.replace("://localhost:", "://127.0.0.1:")
@@ -38,6 +42,7 @@ def api():
             if not origin_url.endswith("/"):
                 # make sure the url end with a "/"
                 origin_url += "/"
+            print("origin_url=%s" % origin_url)
             if not (origin_url in whitelisted_domains):
                 return (
                     jsonify(
@@ -54,6 +59,7 @@ def api():
                 )
     try:
         data = json.loads(request.data)
+        print("data=%s" % data)
     except:
         return (
             jsonify(
@@ -65,6 +71,7 @@ def api():
             ),
             500,
         )
+    print("app.specter.hwi_bridge_url=%s" % app.specter.hwi_bridge_url)
     if ("forwarded_request" not in data or not data["forwarded_request"]) and (
         app.specter.hwi_bridge_url.startswith("http://")
         or app.specter.hwi_bridge_url.startswith("https://")
diff --git a/src/cryptoadvance/specter/server.py b/src/cryptoadvance/specter/server.py
index 71393c8..0fd7c9d 100644
--- a/src/cryptoadvance/specter/server.py
+++ b/src/cryptoadvance/specter/server.py
@@ -14,6 +14,8 @@ from .user import User
 from .config import DATA_FOLDER
 from .util.version import VersionChecker
 
+from werkzeug.middleware.proxy_fix import ProxyFix
+
 logger = logging.getLogger()
 
 env_path = Path(".") / ".flaskenv"
@@ -38,6 +40,7 @@ def create_app(config="cryptoadvance.specter.config.DevelopmentConfig"):
     else:
         app = Flask(__name__, template_folder="templates", static_folder="static")
     app.config.from_object(config)
+    app.wsgi_app = ProxyFix(app.wsgi_app, x_for=1, x_proto=1, x_host=1, x_port=1, x_prefix=1)
     return app
 
 
@@ -92,7 +95,7 @@ def init_app(app, hwibridge=False, specter=None):
 
         @app.route("/", methods=["GET"])
         def index():
-            return redirect("/hwi/settings")
+            return redirect("hwi/settings")
 
     return app
 
diff --git a/src/cryptoadvance/specter/static/styles.css b/src/cryptoadvance/specter/static/styles.css
index dc038b4..e3837fa 100644
--- a/src/cryptoadvance/specter/static/styles.css
+++ b/src/cryptoadvance/specter/static/styles.css
@@ -920,11 +920,11 @@ a:focus + .tool-tip .tool-tip__info {
     width: 400px;
 }
 
-img[src="/static/img/cobo_icon.svg"] {
+img[src="{{ url_for('static', filename='img/cobo_icon.svg') }}"] {
     transform: scale(1.30);
 }
 
-img[src="/static/img/bitbox02_icon.svg"] {
+img[src="{{ url_for('static', filename='img/bitbox02_icon.svg') }}"] {
     transform: scale(2);
 }
 
diff --git a/src/cryptoadvance/specter/templates/500.jinja b/src/cryptoadvance/specter/templates/500.jinja
index 9267755..3063085 100644
--- a/src/cryptoadvance/specter/templates/500.jinja
+++ b/src/cryptoadvance/specter/templates/500.jinja
@@ -1,10 +1,10 @@
 <!DOCTYPE html>
 <html>
 <head>
-    <link rel="shortcut icon" type="image/png" href="/static/img/icon.png"/>
+    <link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='img/icon.png') }}"/>
     <title>Specter Desktop</title>
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
-    <link rel="stylesheet" type="text/css" href="/static/styles.css">
+    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
     <style type="text/css">
         a{
             color: #fff;
diff --git a/src/cryptoadvance/specter/templates/base.jinja b/src/cryptoadvance/specter/templates/base.jinja
index 293acfb..c6fc28c 100644
--- a/src/cryptoadvance/specter/templates/base.jinja
+++ b/src/cryptoadvance/specter/templates/base.jinja
@@ -1,11 +1,11 @@
 <!DOCTYPE html>
 <html>
 	<head>
-		<link rel="shortcut icon" type="image/png" href="/static/img/icon.png"/>
+		<link rel="shortcut icon" type="image/png" href="{{ url_for('static', filename='img/icon.png') }}"/>
 		<title>Specter Desktop</title>
 		<meta name="viewport" content="width=device-width, initial-scale=1.0">
 		<meta name="format-detection" content="telephone=no">
-		<link rel="stylesheet" type="text/css" href="/static/styles.css?{{rand}}">
+		<link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}?{{rand}}">
 	</head>
 	<body>
 	{% if specter.config.auth == "none" or current_user.is_authenticated %}
@@ -22,15 +22,15 @@
 				<div class="row" id="status-bar" style="border-radius: 0 0 0 15px; position: absolute; right: 0; color: #ddd; background-color: #323e50;">
 					{% include "components/tor_address.jinja" %}
 					<a class="settings-bar-btn" href="{{ url_for('settings') }}">
-						<img src="/static/img/settings-status-bar.svg" style="width: 22px;"/>
+						<img src="{{ url_for('static', filename='img/settings-status-bar.svg') }}" style="width: 22px;"/>
 					</a>
 					{% if specter.config.auth != "none" %}
 						<a class="settings-bar-btn" href="{{ url_for('logout') }}">
-							<img src="/static/img/logout-status-bar.svg" style="width: 22px;"/>
+							<img src="{{ url_for('static', filename='img/logout-status-bar.svg') }}" style="width: 22px;"/>
 						</a>
 					{% endif %}
 				</div>
-			<img id="menubtn" src="/static/img/menu.svg"/>
+			<img id="menubtn" src="{{ url_for('static', filename='img/menu.svg') }}"/>
 			{% endif %}
 
 			<div id="messages">
@@ -53,15 +53,15 @@
 					<br>
 					<div style="max-width: 60%; text-align: center;">
 					<h1 style="font-size: 1.8em;">
-					<img src="static/img/icon.png" width="40px" style="vertical-align: top; margin-right: 20px;"/> 
+					<img src="{{ url_for('static', filename='img/icon.png') }}" width="40px" style="vertical-align: top; margin-right: 20px;"/>
 					Welcome to Specter Desktop 
-					<img src="static/img/ghost.png" width="40px" style="vertical-align: top; margin-left: 20px;"/>
+					<img src="{{ url_for('static', filename='img/ghost.png') }}" width="40px" style="vertical-align: top; margin-left: 20px;"/>
 					</h1>
 					<p style="font-size: 1.2em; font-weight: bolder;">Specter Desktop is a convenient wallet interface to better use your Bitcoin Core node. It’s good for singlesig wallets, but comes with a special focus on multisignature setups for different hardware wallets and air-gapped signing devices.</p>
 					<a href="https://github.com/cryptoadvance/specter-desktop/blob/master/docs/faq.md" target="_blank" style="color: #fff; font-size: 1.2em; font-weight: bolder;">Read the FAQ</a>
 					<br><br><br>
 					<h2 style="font-size: 1.6em;">Getting Started</h2><br>
-					Click on "Add new wallet" to try out the new <a href="/singlesig_setup_wizard/" style="color: #fff;">wallet setup wizard</a> or follow these instructions:<br><br>
+					Click on "Add new wallet" to try out the new <a href="{{ url_for('singlesig_setup_wizard') }}" style="color: #fff;">wallet setup wizard</a> or follow these instructions:<br><br>
 					<ul style="text-align: left; margin-left: 10%;">
 						<li class="list-item">
 							Click on "Add new device" on the left sidebar and follow the instructions.<br>
@@ -87,8 +87,8 @@
 							Specter.Solutions
 						</a>
 						<div class="row">
-							<a href="https://github.com/cryptoadvance/" target="_blank"><img src="/static/img/github.svg" style="width: 30px; margin: 10px;"></a>
-							<a href="https://twitter.com/specterwallet/" target="_blank"><img src="/static/img/twitter.svg" style="width: 30px; margin: 10px;"></a>
+							<a href="https://github.com/cryptoadvance/" target="_blank"><img src="{{ url_for('static', filename='img/github.svg') }}" style="width: 30px; margin: 10px;"></a>
+							<a href="https://twitter.com/specterwallet/" target="_blank"><img src="{{ url_for('static', filename='img/twitter.svg') }}" style="width: 30px; margin: 10px;"></a>
 						</div>
 					</div>
 				{% endif %}
@@ -96,7 +96,7 @@
 		</main>
 	</div>
 
-	<script type="text/javascript" src="/static/helpers.js"></script>
+	<script type="text/javascript" src="{{ url_for('static', filename='helpers.js') }}"></script>
 
 	{% block scripts %}
 	{% endblock %}
diff --git a/src/cryptoadvance/specter/templates/components/tor_address.jinja b/src/cryptoadvance/specter/templates/components/tor_address.jinja
index b5a62c0..ca436e0 100644
--- a/src/cryptoadvance/specter/templates/components/tor_address.jinja
+++ b/src/cryptoadvance/specter/templates/components/tor_address.jinja
@@ -123,7 +123,7 @@
     {% endif %}
 </div>
 <div class="settings-bar-btn" id='tor-toggle-btn'>
-    <img id="tor-btn" src="/static/img/tor.svg"/>
+    <img id="tor-btn" src="{{ url_for('static', filename='img/tor.svg') }}"/>
     <span class="dot {% if tor_service_id %}dot-on{% else %}dot-off{% endif %}" id="tor-symbol-status-dot"></span>
 </div>
 <script>
diff --git a/src/cryptoadvance/specter/templates/device/device.jinja b/src/cryptoadvance/specter/templates/device/device.jinja
index 7016230..ddc150c 100644
--- a/src/cryptoadvance/specter/templates/device/device.jinja
+++ b/src/cryptoadvance/specter/templates/device/device.jinja
@@ -40,7 +40,7 @@
 						<td>{{ key.purpose }}</td>
 						<td class="optional">{{ key.derivation }}</td>
 						<td width="15" onclick="showPageOverlay('key_export_qr');document.getElementById('key_selected').value='{{loop.index0}}';toggleKeyDisplay();" title="Show key QR code" style="cursor: pointer;">
-							<img style="margin-top: 5px;" width="15" src="/static/img/qr_tiny.svg"/>
+							<img style="margin-top: 5px;" width="15" src="{{ url_for('static', filename='img/qr_tiny.svg') }}"/>
 						</td>
 						<td class="xpub scroll optional">
 							<span class="explorer-link" onclick="copyText('{{ key }}', 'Copied key: {{ key }}')">{{ key }}</span>
@@ -89,9 +89,9 @@
 				<a href="{{ url_for('wallet', wallet_alias=wallet.alias) }}" style="text-decoration: none;">
 					<div class="small-card radio">
 						{% if wallet.is_multisig %}
-							<img src="/static/img/multisig_icon.svg" width="18px">
+							<img src="{{ url_for('static', filename='img/multisig_icon.svg') }}" width="18px">
 						{% else %}
-							<img src="/static/img/simple_icon.svg" width="18px">
+							<img src="{{ url_for('static', filename='img/simple_icon.svg') }}" width="18px">
 						{% endif %}
 						{{ wallet.name }}
 					</div>
diff --git a/src/cryptoadvance/specter/templates/device/new_device.jinja b/src/cryptoadvance/specter/templates/device/new_device.jinja
index 4b9174f..bb55737 100644
--- a/src/cryptoadvance/specter/templates/device/new_device.jinja
+++ b/src/cryptoadvance/specter/templates/device/new_device.jinja
@@ -38,7 +38,7 @@
 				<div class="row">
 					<qr-scanner id="xpub-scan" style="width:50%">
 						<a slot="button" href="#" class="btn" style="margin: 8px;">
-							<img src="/static/img/qr_icon.svg" height="12px"> Scan
+							<img src="{{ url_for('static', filename='img/qr_icon.svg') }}" height="12px"> Scan
 							<div class="tool-tip">
 								<i class="tool-tip__icon">i</i>
 								<p class="tool-tip__info">
@@ -71,7 +71,7 @@
 				</div>
 				<div class="row">
 					<button type="button" class="btn" style="margin: 8px;" id="askhwi">
-						<img src="/static/img/usb_tiny.svg" height="12px">Get over USB
+						<img src="{{ url_for('static', filename='img/usb_tiny.svg') }}" height="12px">Get over USB
 					</button>
 				</div>
 				<p class="note center" style="text-decoration: underline; cursor: pointer;" onclick="showPageOverlay('usb_import_account_number')">Specify account number (advanced)</p>
diff --git a/src/cryptoadvance/specter/templates/includes/hwi/components/pin.jinja b/src/cryptoadvance/specter/templates/includes/hwi/components/pin.jinja
index 60445d9..65e32fa 100644
--- a/src/cryptoadvance/specter/templates/includes/hwi/components/pin.jinja
+++ b/src/cryptoadvance/specter/templates/includes/hwi/components/pin.jinja
@@ -2,7 +2,7 @@
     <h2>Enter PIN</h2>
     <div class="row">
         <div id="hwi_pin_stars" style="margin-top: 20px; font-size: 20px; height: 25px; width: 100%; padding-left: 30px;"></div>
-        <img id="hwi_pin_delete" src="/static/img/backspace.svg" width="18px" style="margin-top: 20px; height: 25px; margin-left: 10px; cursor: pointer;">
+        <img id="hwi_pin_delete" src="{{ url_for('static', filename='img/backspace.svg') }}" width="18px" style="margin-top: 20px; height: 25px; margin-left: 10px; cursor: pointer;">
     </div>
     <br>
     <div id="hwi_pin_container" class="flex-center flex-column">
diff --git a/src/cryptoadvance/specter/templates/includes/hwi/components/wallet.jinja b/src/cryptoadvance/specter/templates/includes/hwi/components/wallet.jinja
index 37fc563..cf763bc 100644
--- a/src/cryptoadvance/specter/templates/includes/hwi/components/wallet.jinja
+++ b/src/cryptoadvance/specter/templates/includes/hwi/components/wallet.jinja
@@ -7,7 +7,7 @@
         Expected address:<br><span id="expected_address"></span>
     </div>
     <div class="flex-center">
-        <img src="/static/img/loader_boxes.svg"/>
+        <img src="{{ url_for('static', filename='img/loader_boxes.svg') }}"/>
     </div>
 </div>
 
diff --git a/src/cryptoadvance/specter/templates/includes/hwi/hwi.jinja b/src/cryptoadvance/specter/templates/includes/hwi/hwi.jinja
index 1f90f28..89376cf 100644
--- a/src/cryptoadvance/specter/templates/includes/hwi/hwi.jinja
+++ b/src/cryptoadvance/specter/templates/includes/hwi/hwi.jinja
@@ -1,4 +1,4 @@
-<script type="text/javascript" src="/static/hwi.js"></script>
+<script type="text/javascript" src="{{ url_for('static', filename='hwi.js') }}"></script>
 
 {# === pin screen ==== #}
 {% include 'includes/hwi/components/pin.jinja' %}
@@ -12,7 +12,7 @@
 <div id="hwi_progress" class="hidden" style="width: 270px;">
     <h1 id="hwi_progress_title">Processing...</h1>
     <div class="flex-center" id="hwi_progress_text">Keep your wallet connected.</div><br>
-    <img src="/static/img/loader_boxes.svg">
+    <img src="{{ url_for('static', filename='img/loader_boxes.svg') }}">
     <div class="flex-center hidden" id="hwi_progress_note" style="cursor: pointer;">
         Running Specter on a remote machine? &#9654
     </div>
diff --git a/src/cryptoadvance/specter/templates/includes/overlay/overlay.html b/src/cryptoadvance/specter/templates/includes/overlay/overlay.html
index 057f834..d9881a1 100644
--- a/src/cryptoadvance/specter/templates/includes/overlay/overlay.html
+++ b/src/cryptoadvance/specter/templates/includes/overlay/overlay.html
@@ -10,7 +10,7 @@
 </div>
 
 <div class="loader" id="pacman">
-    <img src="/static/img/loader.gif"/>
+    <img src="{{ url_for('static', filename='img/loader.gif') }}"/>
     <div>Loading... It may take a while...</div>
 </div>
 
diff --git a/src/cryptoadvance/specter/templates/includes/overlay/qr_code_sign.jinja b/src/cryptoadvance/specter/templates/includes/overlay/qr_code_sign.jinja
index 792dc00..d61afea 100644
--- a/src/cryptoadvance/specter/templates/includes/overlay/qr_code_sign.jinja
+++ b/src/cryptoadvance/specter/templates/includes/overlay/qr_code_sign.jinja
@@ -20,7 +20,7 @@
     </div>
     <qr-scanner id="{{ device.alias }}_qr_scan_btn">
         <a slot="button" class="btn flex-item" style="width: 250px; margin: 15px auto;">
-            <img src="/static/img/qr_tiny.svg"> Scan signed transaction
+            <img src="{{ url_for('static', filename='img/qr_tiny.svg') }}"> Scan signed transaction
         </a>
     </qr-scanner>
     <script>
diff --git a/src/cryptoadvance/specter/templates/includes/overlay/sign_tx_method.jinja b/src/cryptoadvance/specter/templates/includes/overlay/sign_tx_method.jinja
index 2abd030..a4c6fdb 100644
--- a/src/cryptoadvance/specter/templates/includes/overlay/sign_tx_method.jinja
+++ b/src/cryptoadvance/specter/templates/includes/overlay/sign_tx_method.jinja
@@ -15,7 +15,7 @@
         </div>
         {% if device.hwi_support %}
             <button id="{{ device.alias }}_hwi_sign_btn" class="btn flex-item" style="width: 190px; margin: 15px auto;">
-                <img src="/static/img/usb_tiny.svg" height="12px">Sign via USB (HWI)
+                <img src="{{ url_for('static', filename='img/usb_tiny.svg') }}" height="12px">Sign via USB (HWI)
             </button>
             <script>
                 document.getElementById("{{ device.alias }}_hwi_sign_btn").addEventListener("click", e => {
diff --git a/src/cryptoadvance/specter/templates/includes/qr-code.html b/src/cryptoadvance/specter/templates/includes/qr-code.html
index 98ebedb..dc847f0 100644
--- a/src/cryptoadvance/specter/templates/includes/qr-code.html
+++ b/src/cryptoadvance/specter/templates/includes/qr-code.html
@@ -147,7 +147,7 @@
     }
   </style>
   <div class="qr-holder">
-    <a class="copy"><img src="/static/img/content_copy-24px.svg"></a>
+    <a class="copy"><img src="{{ url_for('static', filename='img/content_copy-24px.svg') }}"></a>
     <div class="qr-code"></div>
     <div class="note">Click to animate</div>
     <div class="range" style="margin-top: 10px; margin-bottom: -5px;">
@@ -156,7 +156,7 @@
   </div>
 </template>
 
-<script type="text/javascript" src="/static/qr/qrcode.min.js"></script>
+<script type="text/javascript" src="{{ url_for('static', filename='qr/qrcode.min.js') }}"></script>
 <script type="text/javascript">
 class QRCodeElement extends HTMLElement {
   constructor() {
diff --git a/src/cryptoadvance/specter/templates/includes/qr-scanner.html b/src/cryptoadvance/specter/templates/includes/qr-scanner.html
index cffb1fe..5dfb76b 100644
--- a/src/cryptoadvance/specter/templates/includes/qr-scanner.html
+++ b/src/cryptoadvance/specter/templates/includes/qr-scanner.html
@@ -58,8 +58,8 @@
 </template>
 
 <script type="module">
-import QrScanner from "/static/qr/qr-scanner.min.js";
-QrScanner.WORKER_PATH = '/static/qr/qr-scanner-worker.min.js';
+import QrScanner from "{{ url_for('static', filename='qr/qr-scanner.min.js') }}";
+QrScanner.WORKER_PATH = "{{ url_for('static', filename='qr/qr-scanner-worker.min.js') }}";
 
 class QRScannerElement extends HTMLElement {
   constructor() {
diff --git a/src/cryptoadvance/specter/templates/includes/sidebar/components/bitcoin_core_info.jinja b/src/cryptoadvance/specter/templates/includes/sidebar/components/bitcoin_core_info.jinja
index 4f5fb50..945a623 100644
--- a/src/cryptoadvance/specter/templates/includes/sidebar/components/bitcoin_core_info.jinja
+++ b/src/cryptoadvance/specter/templates/includes/sidebar/components/bitcoin_core_info.jinja
@@ -26,7 +26,7 @@
         </table>
         <p id="total_supply" style="line-height: 2.5;"></p>
         <div class="row">
-            <button type="button" onclick="fetchTotalSupply()" class="btn centered" href="/settings/bitcoin_core">
+            <button type="button" onclick="fetchTotalSupply()" class="btn centered" href="{{ url_for('bitcoin_core_settings') }}">
                 Run the numbers!
                 <div class="tool-tip">
                     <i class="tool-tip__icon">i</i>
@@ -47,7 +47,7 @@
                 document.getElementById('total_supply').innerHTML = 'Running the numbers... (this might take a few minutes)';
                 try {
                     const response = await fetch(
-                        '/get_txout_set_info',
+                        "{{ url_for('txout_set_info') }}",
                         {
                             method: 'GET'
                         }
@@ -68,8 +68,8 @@
         </script>
         {% if current_user.is_admin %}
             <div class="row">
-                <a class="btn centered" href="/settings/bitcoin_core">
-                    <img src="/static/img/settings-status-bar.svg" style="width: 18px;"/>
+                <a class="btn centered" href="{{ url_for('bitcoin_core_settings') }}">
+                    <img src="{{ url_for('static', filename='img/settings-status-bar.svg') }}" style="width: 18px;"/>
                     Configure Bitcoin Core RPC Connection
                 </a>
             </div>
diff --git a/src/cryptoadvance/specter/templates/includes/sidebar/components/sidebar_btn.jinja b/src/cryptoadvance/specter/templates/includes/sidebar/components/sidebar_btn.jinja
index 31e4bc4..06fcee7 100644
--- a/src/cryptoadvance/specter/templates/includes/sidebar/components/sidebar_btn.jinja
+++ b/src/cryptoadvance/specter/templates/includes/sidebar/components/sidebar_btn.jinja
@@ -6,7 +6,7 @@
  #}
 {% macro sidebar_btn(url_path, text, icon=true) -%}
     <div class="optional">
-        <a href="/{{url_path}}/" class="btn">
+        <a href="{{url_path}}/" class="btn">
             {% if icon %}<svg width="20" height="20" viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>{% endif %}{{ text }}
         </a>
     </div>
diff --git a/src/cryptoadvance/specter/templates/includes/sidebar/components/sidebar_device_list_item.jinja b/src/cryptoadvance/specter/templates/includes/sidebar/components/sidebar_device_list_item.jinja
index 9bc260d..dfa184a 100644
--- a/src/cryptoadvance/specter/templates/includes/sidebar/components/sidebar_device_list_item.jinja
+++ b/src/cryptoadvance/specter/templates/includes/sidebar/components/sidebar_device_list_item.jinja
@@ -5,11 +5,11 @@
     - device_alias: Active device alias.
  #}
 {% macro sidebar_device_list_item(device, device_alias) -%}
-    <a href="/devices/{{device.alias}}/" class="item {% if device_alias == device.alias %}active{% endif %}">
+    <a href="{{ url_for('device', device_alias=device.alias) }}" class="item {% if device_alias == device.alias %}active{% endif %}">
         {% if device.device_type in ['specter', 'coldcard', 'trezor', 'ledger', 'cobo', 'bitbox02'] %}
-            <img src="/static/img/{{device.device_type|lower}}_icon.svg" width="22px">
+            <img src="{{ url_for('static', filename='img/' ~ (device.device_type|lower) ~ '_icon.svg') }}" width="22px">
         {% else %}
-            <img src="/static/img/other_icon.svg" width="22px">
+            <img src="{{ url_for('static', filename='img/other_icon.svg') }}" width="22px">
         {% endif %}
         <div>
             {{ device.name }}<br>
diff --git a/src/cryptoadvance/specter/templates/includes/sidebar/components/sidebar_wallet_list_item.jinja b/src/cryptoadvance/specter/templates/includes/sidebar/components/sidebar_wallet_list_item.jinja
index 6172b23..9002026 100644
--- a/src/cryptoadvance/specter/templates/includes/sidebar/components/sidebar_wallet_list_item.jinja
+++ b/src/cryptoadvance/specter/templates/includes/sidebar/components/sidebar_wallet_list_item.jinja
@@ -6,7 +6,7 @@
     - chain: Chain name specter is connected to. Options: 'main', 'test', 'regtest', 'signet'.
  #}
 {% macro sidebar_wallet_list_item(wallet, wallet_alias, chain) -%}
-    <a href="/wallets/{{wallet.alias}}/" class="item {% if wallet_alias == wallet.alias %}active{% endif %}">
+    <a href="{{ url_for('wallet', wallet_alias=wallet.alias) }}" class="item {% if wallet_alias == wallet.alias %}active{% endif %}">
         {% include "includes/sidebar/components/wallet_type_svg.jinja" %}
         <div class="grow">
             {{ wallet.name }}<br>
@@ -29,8 +29,9 @@
                 let walletRescanActive = true;
                 async function fetchWalletRescanProgress() {
                     try {
+                        let url="{{ url_for('get_wallet_rescan_progress', wallet_alias=wallet.alias) }}"
                         const response = await fetch(
-                            '/wallets/{{ wallet.alias }}/get_wallet_rescan_progress',
+                            url,
                             {
                                 method: 'GET'
                             }
diff --git a/src/cryptoadvance/specter/templates/includes/sidebar/sidebar.jinja b/src/cryptoadvance/specter/templates/includes/sidebar/sidebar.jinja
index 096b86b..16746c2 100644
--- a/src/cryptoadvance/specter/templates/includes/sidebar/sidebar.jinja
+++ b/src/cryptoadvance/specter/templates/includes/sidebar/sidebar.jinja
@@ -23,7 +23,7 @@
         {% if specter.chain %}
             <div onclick="showPageOverlay('bitcoin_core_info');document.getElementById('side-content').classList.remove('active');" class="item core" style="cursor: pointer;">
             {% else %}
-            <a href="/settings/" class="item core" style="color: #fff; text-decoration: none;">
+            <a href="{{ url_for('settings') }}" class="item core" style="color: #fff; text-decoration: none;">
         {% endif %}
             {% from "components/bitcoin_svg.jinja" import bitcoin_svg %}
             {{ bitcoin_svg(specter.info.chain, 40) }}
@@ -61,7 +61,7 @@
             async function fetchUTXORescanProgress() {
                 try {
                     const response = await fetch(
-                        '/get_scantxoutset_status',
+                        "{{ url_for('get_scantxoutset_status') }}",
                         {
                             method: 'GET'
                         }
@@ -100,7 +100,7 @@
         <div class="separator">
             <span id="toggle_wallets_list" style="cursor: pointer;">Wallets &nbsp; &#9660;</span>
             {% if (specter.wallet_manager.wallets | length) > 1 %}
-                <a class="note" id="wallets_overview_link" href="/wallets_overview/" style="cursor: pointer;">
+                <a class="note" id="wallets_overview_link" href="{{ url_for('wallets_overview') }}" style="cursor: pointer;">
                     Wallets overview
                 </a>
             {% endif %}
@@ -112,15 +112,15 @@
                 {{ sidebar_wallet_list_item(specter.wallet_manager.wallets[wallet], wallet_alias, specter.info.chain) }}
             {% endfor %}
             </div>
-            {{ sidebar_btn('new_wallet', 'Add new wallet') }}
+            {{ sidebar_btn(url_for('new_wallet_type'), 'Add new wallet') }}
         {% elif specter.chain %}
-            {{ sidebar_btn('singlesig_setup_wizard', 'Add new wallet') }}
+            {{ sidebar_btn(url_for('singlesig_setup_wizard'), 'Add new wallet') }}
         {% else %}
             <p class="warning">
             &#9432;<br>Wallets are unavailable if Specter is not connected to Bitcoin Core!<br>
             {% if current_user.is_admin %}
-            <a style="margin: 5px; transform: scale(0.9); font-size: 1em;" class="btn" href="/settings/bitcoin_core">
-                <img src="/static/img/settings-status-bar.svg" style="width: 13px;"/>Configure Node
+            <a style="margin: 5px; transform: scale(0.9); font-size: 1em;" class="btn" href="{{ url_for('bitcoin_core_settings') }}">
+                <img src="{{ url_for('static', filename='img/settings-status-bar.svg') }}" style="width: 13px;"/>Configure Node
             </a>
             {% endif %}
             </p>
@@ -135,14 +135,14 @@
                     {{ sidebar_device_list_item(specter.device_manager.devices[device_name], device_alias) }}
             {% endfor %}
         </div>
-        {{ sidebar_btn('new_device', 'Add new device') }}
+        {{ sidebar_btn(url_for('new_device'), 'Add new device') }}
         <p class="warning mobile-only">&#9432;<br><b>Specter "Watch Only" Mode.</b><br>You are using Specter from a small-screen device for which some functionalities, including sending funds and creating new wallets are not yet supported.</p>
         <br>
         <div class="footer">
 	        <span>Specter Version: <strong>{{ specter.version.current }}</strong></span>
-            <a style="color: #fff; font-size: 1.1em; margin: 10px; text-align: center;" href="/about">
+            <a style="color: #fff; font-size: 1.1em; margin: 10px; text-align: center;" href="{{ url_for('about') }}">
             About Specter<br>
-            <img src="/static/img/icon.png" style="width: 35px;"/>
+            <img src="{{ url_for('static', filename='img/icon.png') }}" style="width: 35px;"/>
             </a>
         </div>
     </nav>
diff --git a/src/cryptoadvance/specter/templates/wallet/history/components/tx_item.jinja b/src/cryptoadvance/specter/templates/wallet/history/components/tx_item.jinja
index 15ee9b8..adadb78 100644
--- a/src/cryptoadvance/specter/templates/wallet/history/components/tx_item.jinja
+++ b/src/cryptoadvance/specter/templates/wallet/history/components/tx_item.jinja
@@ -13,9 +13,9 @@
         <td>
             {# coinbase txs are 'immature' until 100 confs #}
             {% if tx['category'] == 'immature' %}
-                <img src="/static/img/unconfirmed_receive_icon.svg"/>
+                <img src="{{ url_for('static', filename='img/unconfirmed_receive_icon.svg') }}"/>
             {% else %}
-                <img src="/static/img/{% if tx['confirmations'] == 0 %}unconfirmed_{% endif %}{{tx['category']}}_icon.svg"/>
+                <img src="{{ url_for('static', filename='img') }}/{% if tx['confirmations'] == 0 %}unconfirmed_{% endif %}{{tx['category']}}_icon.svg"/>
             {% endif %}
         </td>
         <td class="tx scroll optional">
@@ -51,9 +51,9 @@
     <div id="{{tx['txid']}}_tx_info_popup" class="hidden" style="text-align:left;">
         <h1>Transaction details</h1>
         <p>Category: {{ tx['category'] | title }}&nbsp; {% if tx['category'] == 'immature' %}
-            <img src="/static/img/unconfirmed_receive_icon.svg"/>
+            <img src="{{ url_for('static', filename='img/unconfirmed_receive_icon.svg') }}"/>
         {% else %}
-            <img src="/static/img/{% if tx['confirmations'] == 0 %}unconfirmed_{% endif %}{{tx['category']}}_icon.svg"/>
+            <img src="{{ url_for('static', filename='img') }}/{% if tx['confirmations'] == 0 %}unconfirmed_{% endif %}{{tx['category']}}_icon.svg"/>
         {% endif %}
         </p>
         <p>Transaction ID:</p>
diff --git a/src/cryptoadvance/specter/templates/wallet/new_wallet/components/import_wallet_account_map.jinja b/src/cryptoadvance/specter/templates/wallet/new_wallet/components/import_wallet_account_map.jinja
index 93e45df..386bbc0 100644
--- a/src/cryptoadvance/specter/templates/wallet/new_wallet/components/import_wallet_account_map.jinja
+++ b/src/cryptoadvance/specter/templates/wallet/new_wallet/components/import_wallet_account_map.jinja
@@ -5,7 +5,7 @@
         <textarea id="txt" name="wallet_data" placeholder="Enter your wallet data here"></textarea>
         <div class="row">
             <a href="#" class="btn" id="scanme" style="margin: 2px;">
-                <img src="/static/img/qr_icon.svg" height="12px"> Scan
+                <img src="{{ url_for('static', filename='img/qr_icon.svg') }}" height="12px"> Scan
             </a>
             <input type="file" id="file" class="inputfile" multiple/>
             <label for="file" class="btn" style="margin: 2px;">
@@ -19,9 +19,9 @@
 	<video muted playsinline id="qr-video" class="video"></video>
 </div>
 <script type="module">
-	import QrScanner from "/static/qr/qr-scanner.min.js";
+	import QrScanner from "{{ url_for('static', filename='qr/qr-scanner.min.js') }}";
     document.addEventListener("DOMContentLoaded", function(){
-        QrScanner.WORKER_PATH = '/static/qr/qr-scanner-worker.min.js';
+        QrScanner.WORKER_PATH = '{{ url_for('static', filename='qr/qr-scanner-worker.min.js') }}';
 
         const video = document.getElementById('qr-video');
 
diff --git a/src/cryptoadvance/specter/templates/wallet/new_wallet/import_wallet.jinja b/src/cryptoadvance/specter/templates/wallet/new_wallet/import_wallet.jinja
index 5471f9e..69a6d97 100644
--- a/src/cryptoadvance/specter/templates/wallet/new_wallet/import_wallet.jinja
+++ b/src/cryptoadvance/specter/templates/wallet/new_wallet/import_wallet.jinja
@@ -21,9 +21,9 @@
 					<a href="{{ url_for('device', device_alias=cosigner.alias) }}" style="text-decoration: none;" target="_blank">
 						<div class="small-card radio">
 							{% if cosigner.device_type in ['specter', 'coldcard', 'trezor', 'ledger', 'cobo', 'bitbox02'] %}
-								<img src="/static/img/{{ cosigner.device_type }}_icon.svg" width="18px">
+								<img src="{{ url_for('static', filename='img/' ~ cosigner.device_type ~ '_icon.svg') }}" width="18px">
 							{% else %}
-								<img src="/static/img/other_icon.svg" width="18px">
+								<img src="{{ url_for('static', filename='img/other_icon.svg') }}" width="18px">
 							{% endif %}
 							{{ cosigner.name }}
 						</div>
@@ -38,7 +38,7 @@
 			<div class="row overflow">
 				{% for unknown_cosigner in unknown_cosigners %}
 					<div class="small-card radio" onclick="showPageOverlay('unknown_cosigner_{{ loop.index0 }}_details')">
-						<img src="/static/img/other_icon.svg" width="18px">
+						<img src="{{ url_for('static', filename='img/other_icon.svg') }}" width="18px">
 						<input id="unknown_cosigner_{{ loop.index0 }}_name_input" type="hidden" name="unknown_cosigner_{{ loop.index0 }}_name" value="{{ wallet_name }} Cosigner {{ loop.index }}">
 						<span id="unknown_cosigner_{{ loop.index0 }}_name">{{ wallet_name }} Cosigner {{ loop.index }}</span>
 					</div>
diff --git a/src/cryptoadvance/specter/templates/wallet/new_wallet/new_wallet.jinja b/src/cryptoadvance/specter/templates/wallet/new_wallet/new_wallet.jinja
index ec7f6cb..d61e098 100644
--- a/src/cryptoadvance/specter/templates/wallet/new_wallet/new_wallet.jinja
+++ b/src/cryptoadvance/specter/templates/wallet/new_wallet/new_wallet.jinja
@@ -47,9 +47,9 @@
 					<input type="{{ 'checkbox' if wallet_type == 'multisig' else 'radio' }}" name="devices" value="{{ device.alias }}" class="hidden" data-key-types='{{ device.key_types(specter.chain) | tojson }}' chain="{{specter.chain}}">
 					<div class="small-card radio">
 						{% if device.device_type in ['specter', 'coldcard', 'trezor', 'ledger', 'cobo', 'bitbox02'] %}
-							<img src="/static/img/{{ device.device_type }}_icon.svg" width="18px">
+							<img src="{{ url_for('static', filename='img/' ~ device.device_type ~ '_icon.svg') }}" width="18px">
 						{% else %}
-							<img src="/static/img/other_icon.svg" width="18px">
+							<img src="{{ url_for('static', filename='img/other_icon.svg') }}" width="18px">
 						{% endif %}
 						{{ device_name }}
 					</div>
diff --git a/src/cryptoadvance/specter/templates/wallet/new_wallet/new_wallet_type.jinja b/src/cryptoadvance/specter/templates/wallet/new_wallet/new_wallet_type.jinja
index 2ce8dcf..7c749d8 100644
--- a/src/cryptoadvance/specter/templates/wallet/new_wallet/new_wallet_type.jinja
+++ b/src/cryptoadvance/specter/templates/wallet/new_wallet/new_wallet_type.jinja
@@ -28,16 +28,16 @@
 		</span>
 	{% endif %}
 	<nav class="row">
-		<a href="/singlesig_setup_wizard/" class="small-card">
-			<img src="/static/img/wizard.svg"/>
+		<a href="{{ url_for('singlesig_setup_wizard') }}" class="small-card">
+			<img src="{{ url_for('static', filename='img/wizard.svg') }}"/>
 			New wallet wizard<br><br>
 		</a>
 		<a href="./simple/" class="small-card">
-			<img src="/static/img/simple_icon.svg"/>
+			<img src="{{ url_for('static', filename='img/simple_icon.svg') }}"/>
 			Single key wallet
 		</a>
 		<a class="small-card" {% if specter.device_manager.devices|length > 1 %}href="./multisig/"{% else %}style="background: transparent; opacity: 0.2;{% endif %}">
-			<img src="/static/img/multisig_icon.svg"/>
+			<img src="{{ url_for('static', filename='img/multisig_icon.svg') }}"/>
 			Multisignature wallet<br><br>
 		</a>
 	</nav>
diff --git a/src/cryptoadvance/specter/templates/wallet/send/import/wallet_importpsbt.jinja b/src/cryptoadvance/specter/templates/wallet/send/import/wallet_importpsbt.jinja
index a1df67a..1a5074c 100644
--- a/src/cryptoadvance/specter/templates/wallet/send/import/wallet_importpsbt.jinja
+++ b/src/cryptoadvance/specter/templates/wallet/send/import/wallet_importpsbt.jinja
@@ -14,7 +14,7 @@
 				<div class="row">
 					<qr-scanner id="psbt-scan" style="width:50%">
 						<a slot="button" href="#" class="btn" style="margin: 8px;">
-							<img src="/static/img/qr_icon.svg" height="12px"> Scan
+							<img src="{{ url_for('static', filename='img/qr_icon.svg') }}" height="12px"> Scan
 							<div class="tool-tip">
 								<i class="tool-tip__icon">i</i>
 								<p class="tool-tip__info">
diff --git a/src/cryptoadvance/specter/templates/wallet/send/new/components/fee_selection.jinja b/src/cryptoadvance/specter/templates/wallet/send/new/components/fee_selection.jinja
index dac596f..3eab79c 100644
--- a/src/cryptoadvance/specter/templates/wallet/send/new/components/fee_selection.jinja
+++ b/src/cryptoadvance/specter/templates/wallet/send/new/components/fee_selection.jinja
@@ -53,8 +53,9 @@
 
     async function fetchDynamicFees() {
         try {
+            let url="{{ url_for('fees', blocks='numberofblocksplaceholder')}}".replace('numberofblocksplaceholder', document.getElementById('slider_confTime').value)
             const response = await fetch(
-                '/get_fee/'.concat(document.getElementById('slider_confTime').value),
+                url,
                 {
                     method: 'GET'
                 }
diff --git a/src/cryptoadvance/specter/templates/wallet/send/new/wallet_send.jinja b/src/cryptoadvance/specter/templates/wallet/send/new/wallet_send.jinja
index 3758809..2faba5d 100644
--- a/src/cryptoadvance/specter/templates/wallet/send/new/wallet_send.jinja
+++ b/src/cryptoadvance/specter/templates/wallet/send/new/wallet_send.jinja
@@ -102,7 +102,7 @@
 				<div class="row">
 					<input type="text" id="address_${i}" name="address_${i}" oninput="validateForm()"> &nbsp;
 					<qr-scanner id="address-scan-${i}">
-						<a slot="button" class="btn" style="height: 35px;"><img src="/static/img/qr_tiny.svg"/> Scan</a>
+						<a slot="button" class="btn" style="height: 35px;"><img src="{{ url_for('static', filename='img/qr_tiny.svg') }}"/> Scan</a>
 					</qr-scanner>
 				</div>
 				<br>
@@ -426,8 +426,9 @@
 				formData.append("estimate_fee", true);
 				formData.append("action", "createpsbt");
 
+				let url="{{ url_for('wallet_sendnew', wallet_alias=wallet.alias) }}"
 				const response = await fetch(
-					'/wallets/{{ wallet.alias }}/send/new',
+					url,
 					{
 						method: 'POST',
 						body: formData
diff --git a/src/cryptoadvance/specter/templates/wallet/send/sign/wallet_send_sign_psbt.jinja b/src/cryptoadvance/specter/templates/wallet/send/sign/wallet_send_sign_psbt.jinja
index f75c6a7..3efa923 100644
--- a/src/cryptoadvance/specter/templates/wallet/send/sign/wallet_send_sign_psbt.jinja
+++ b/src/cryptoadvance/specter/templates/wallet/send/sign/wallet_send_sign_psbt.jinja
@@ -252,7 +252,7 @@
 		}
 
 		async function combine(psbt1) {
-			let url = "/wallets/{{ wallet.alias }}/combine/";
+			let url = "{{ url_for('combine', wallet_alias=wallet.alias) }}";
 
 			var formData = new FormData();
 			formData.append("psbt0", psbt0);
@@ -319,7 +319,7 @@
 
 		async function broadcastLocal(tx) {
 			showNotification("Sending transaction...");
-			let url="/wallets/{{wallet.alias}}/broadcast/";
+			let url="{{ url_for('broadcast', wallet_alias=wallet.alias) }}";
 
 			var formData = new FormData();
 			formData.append("tx", tx);
diff --git a/src/cryptoadvance/specter/templates/wallet/settings/wallet_settings.jinja b/src/cryptoadvance/specter/templates/wallet/settings/wallet_settings.jinja
index 7b9b5bf..20a5ee3 100644
--- a/src/cryptoadvance/specter/templates/wallet/settings/wallet_settings.jinja
+++ b/src/cryptoadvance/specter/templates/wallet/settings/wallet_settings.jinja
@@ -102,9 +102,9 @@
 			<a href="{{ url_for('device', device_alias=device.alias) }}" style="text-decoration: none;">
 				<div class="small-card radio">
 					{% if device.device_type in ['specter', 'coldcard', 'trezor', 'ledger', 'cobo', 'bitbox02'] %}
-						<img src="/static/img/{{ device.device_type }}_icon.svg" width="18px">
+						<img src="{{ url_for('static', filename='img/' ~ device.device_type ~ '_icon.svg') }}" width="18px">
 					{% else %}
-						<img src="/static/img/other_icon.svg" width="18px">
+						<img src="{{ url_for('static', filename='img/other_icon.svg') }}" width="18px">
 					{% endif %}
 					{{ device.name }}
 				</div>
diff --git a/src/cryptoadvance/specter/templates/wizards/singlesig_setup_wizard.jinja b/src/cryptoadvance/specter/templates/wizards/singlesig_setup_wizard.jinja
index f4f2b81..ebb278a 100644
--- a/src/cryptoadvance/specter/templates/wizards/singlesig_setup_wizard.jinja
+++ b/src/cryptoadvance/specter/templates/wizards/singlesig_setup_wizard.jinja
@@ -2,13 +2,13 @@
 {% block main %}
     {% include "includes/hwi/hwi.jinja" %}
     {% include "includes/qr-scanner.html" %}
-    <link rel="stylesheet" type="text/css" href="/static/progress-wizard.min.css">
+    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='progress-wizard.min.css') }}">
     <style>
         .progress-indicator li {
             padding: 5px;
             color: #fff;
         }
-        #device-confirm[src="/static/img/cobo_icon.svg"] {
+        #device-confirm[src="{{ url_for('static', filename='img/cobo_icon.svg') }}"] {
             margin: 20px;
         }
     </style>
@@ -29,9 +29,9 @@
                             <input onchange="setStepCompleted(1);nextStep();" type="radio" name="devices" value="{{ cls.device_type }}" data-qrcode="{{cls.qr_code_support}}" data-sdcard="{{cls.sd_card_support}}" data-hwi="{{cls.hwi_support}}" data-device-name="{{ cls.name }}" class="hidden device-type">
                             <div class="small-card radio" id="{{ cls.device_type }}_device_card">
                                 {% if cls.device_type in ['specter', 'coldcard', 'trezor', 'ledger', 'cobo', 'bitbox02'] %}
-                                    <img src="/static/img/{{ cls.device_type }}_icon.svg" width="18px">
+                                    <img src="{{ url_for('static', filename='img/' ~ cls.device_type ~ '_icon.svg') }}" width="18px">
                                 {% else %}
-                                    <img src="/static/img/other_icon.svg" width="18px">
+                                    <img src="{{ url_for('static', filename='img/other_icon.svg') }}" width="18px">
                                 {% endif %}
                                 {{ cls.name }}
                             </div>
@@ -75,19 +75,19 @@
                 </div>
                 <div class="row overflow">
                     <div id="connect-hwi" class="small-card">
-                        <img src="/static/img/usb_tiny.svg" width="18px">
+                        <img src="{{ url_for('static', filename='img/usb_tiny.svg') }}" width="18px">
                         Connect via USB
                     </div>
                     <label id="connect-sdcard">
                         <input type="file" id="file" class="inputfile" multiple/>
                         <div class="small-card">
-                            <img src="/static/img/sd_tiny.svg" width="18px">
+                            <img src="{{ url_for('static', filename='img/sd_tiny.svg') }}" width="18px">
                             Upload from SD Card
                         </div>
                     </label>
                     <qr-scanner id="xpub-scan">
                         <a slot="button" href="#" class="small-card" >
-                            <img src="/static/img/qr_tiny.svg" width="18px">
+                            <img src="{{ url_for('static', filename='img/qr_tiny.svg') }}" width="18px">
                             Scan QR code
                         </a>
                     </qr-scanner>
@@ -162,9 +162,9 @@
                 <h2>This will <span id="wallet-scan-confirm"></span> your <span id="wallet-type-confirm"></span> wallet.</h2>
                 <br>
                 <div style="margin: 50px;">
-                    <img id="device-confirm" src="/static/img/other_icon.svg" width="80px"/>
-                    <img src="/static/img/arrow_right.svg" width="130px"/>
-                    <img src="/static/img/icon.png" width="130px"/>
+                    <img id="device-confirm" src="{{ url_for('static', filename='img/other_icon.svg') }}" width="80px"/>
+                    <img src="{{ url_for('static', filename='img/arrow_right.svg') }}" width="130px"/>
+                    <img src="{{ url_for('static', filename='img/icon.png') }}" width="130px"/>
                 </div>
                 <br>
                 <p>After clicking submit, you will be redirected to your new wallet.</p>
@@ -323,7 +323,7 @@
                 document.getElementById('wallet-type-confirm').innerHTML = deviceName + (document.getElementById('type-wpkh').checked ? ' (Segwit)' : ' (Nested Segwit)');
                 document.getElementById('wallet-scan-confirm').innerHTML = document.getElementById('rescan').checked ? 'import' : 'create';
                 if (['specter', 'coldcard', 'trezor', 'ledger', 'cobo', 'bitbox02'].includes(deviceType)) {
-                    document.getElementById('device-confirm').setAttribute('src', `/static/img/${deviceType}_icon.svg`);
+                    document.getElementById('device-confirm').setAttribute('src', '{{ url_for('static', filename='img') }}/' + deviceType + '_icon.svg');
                 }
             }
         }
